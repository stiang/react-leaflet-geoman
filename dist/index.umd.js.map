{"version":3,"file":"index.umd.js","sources":["../src/events/global.ts","../src/events/layer.ts","../src/events/map.ts","../src/events/reference.ts","../src/GeomanControls.ts"],"sourcesContent":["import type { Map } from 'leaflet'\n\nimport type { HandlersWithDebug, Method } from '../types'\n\nexport function globalEvents(\n  map: Map,\n  handlers: HandlersWithDebug,\n  method: Method\n) {\n  // Cut Mode\n  if (handlers.onGlobalCutModeToggled) {\n    map[method]('pm:globalcutmodetoggled', handlers.onGlobalCutModeToggled)\n  }\n\n  // Drag Mode\n  if (handlers.onGlobalDragModeToggled) {\n    map[method]('pm:globaldragmodetoggled', handlers.onGlobalDragModeToggled)\n  }\n\n  // Draw Mode\n  if (handlers.onGlobalDrawModeToggled) {\n    map[method]('pm:globaldrawmodetoggled', handlers.onGlobalDrawModeToggled)\n  }\n\n  // Edit Mode\n  if (handlers.onGlobalEditModeToggled) {\n    map[method]('pm:globaleditmodetoggled', handlers.onGlobalEditModeToggled)\n  }\n\n  // Misc Actions\n  if (handlers.onButtonClick) {\n    map[method]('pm:buttonclick', handlers.onButtonClick)\n  }\n  if (handlers.onActionClick) {\n    map[method]('pm:actionclick', handlers.onActionClick)\n  }\n  if (handlers.onKeyEvent) {\n    map[method]('pm:keyevent', handlers.onKeyEvent)\n  }\n  if (handlers.onLangChange) {\n    map[method]('pm:langchange', handlers.onLangChange)\n  }\n\n  // Remove Mode\n  if (handlers.onGlobalRemovalModeToggled) {\n    map[method](\n      'pm:globalremovalmodetoggled',\n      handlers.onGlobalRemovalModeToggled\n    )\n  }\n\n  // Rotate Mode\n  if (handlers.onGlobalRotateModeToggled) {\n    map[method](\n      'pm:globalrotatemodetoggled',\n      handlers.onGlobalRotateModeToggled\n    )\n  }\n}\n","import type { Layer } from 'leaflet'\n\nimport type { HandlersWithDebug, Method } from '../types'\n\nexport function layerEvents(\n  layer: Layer,\n  handlers: HandlersWithDebug,\n  method: Method\n) {\n  // Drawing Mode\n  if (handlers.onVertexAdded) {\n    layer[method]('pm:vertexadded', handlers.onVertexAdded)\n  }\n  if (handlers.onSnapDrag) {\n    layer[method]('pm:snapdrag', handlers.onSnapDrag)\n  }\n  if (handlers.onSnap) {\n    layer[method]('pm:snap', handlers.onSnap)\n  }\n  if (handlers.onUnsnap) {\n    layer[method]('pm:unsnap', handlers.onUnsnap)\n  }\n  if (handlers.onCenterPlaced) {\n    layer[method]('pm:centerplaced', handlers.onCenterPlaced)\n  }\n  if (handlers.onChange) {\n    layer[method]('pm:change', handlers.onChange)\n  }\n\n  // Edit Mode\n  if (handlers.onEdit) {\n    layer[method]('pm:edit', handlers.onEdit)\n  }\n  if (handlers.onUpdate) {\n    layer[method]('pm:update', handlers.onUpdate)\n  }\n  if (handlers.onEnable) {\n    layer[method]('pm:enable', handlers.onEnable)\n  }\n  if (handlers.onDisable) {\n    layer[method]('pm:disable', handlers.onDisable)\n  }\n  if (handlers.onVertexRemoved) {\n    layer[method]('pm:vertexremoved', handlers.onVertexRemoved)\n  }\n  if (handlers.onVertexClick) {\n    layer[method]('pm:vertexclick', handlers.onVertexClick)\n  }\n  if (handlers.onMarkerDragStart) {\n    layer[method]('pm:markerdragstart', handlers.onMarkerDragStart)\n  }\n  if (handlers.onMarkerDrag) {\n    layer[method]('pm:markerdrag', handlers.onMarkerDrag)\n  }\n  if (handlers.onMarkerDragEnd) {\n    layer[method]('pm:markerdragend', handlers.onMarkerDragEnd)\n  }\n  if (handlers.onLayerReset) {\n    layer[method]('pm:layerreset', handlers.onLayerReset)\n  }\n  if (handlers.onIntersect) {\n    layer[method]('pm:intersect', handlers.onIntersect)\n  }\n\n  // Drag Mode\n  if (handlers.onDragStart) {\n    layer[method]('pm:dragstart', handlers.onDragStart)\n  }\n  if (handlers.onDrag) {\n    layer[method]('pm:drag', handlers.onDrag)\n  }\n  if (handlers.onDragEnd) {\n    layer[method]('pm:dragend', handlers.onDragEnd)\n  }\n  if (handlers.onDragEnable) {\n    layer[method]('pm:dragenable', handlers.onDragEnable)\n  }\n  if (handlers.onDragDisable) {\n    layer[method]('pm:dragdisable', handlers.onDragDisable)\n  }\n\n  // Remove Mode\n  if (handlers.onLayerRemove) {\n    layer[method]('pm:remove', handlers.onLayerRemove)\n  }\n\n  // Cut Mode\n  if (handlers.onLayerCut) {\n    layer[method]('pm:cut', handlers.onLayerCut)\n  }\n\n  // Rotate Mode\n  if (handlers.onLayerRotateEnable) {\n    layer[method]('pm:rotateenable', handlers.onLayerRotateEnable)\n  }\n  if (handlers.onLayerRotateDisable) {\n    layer[method]('pm:rotatedisable', handlers.onLayerRotateDisable)\n  }\n  if (handlers.onLayerRotateStart) {\n    layer[method]('pm:rotatestart', handlers.onLayerRotateStart)\n  }\n  if (handlers.onLayerRotate) {\n    layer[method]('pm:rotate', handlers.onLayerRotate)\n  }\n  if (handlers.onLayerRotateEnd) {\n    layer[method]('pm:rotateend', handlers.onLayerRotateEnd)\n  }\n\n  // Text Mode\n  if (handlers.onTextChange) {\n    layer[method]('pm:textchange', handlers.onTextChange)\n  }\n}\n","import type { Map } from 'leaflet'\n\nimport { layerEvents } from './layer'\nimport type { HandlersWithDebug, Method } from '../types'\n\nexport function mapEvents(\n  map: Map,\n  handlers: HandlersWithDebug,\n  method: Method\n) {\n  // Cut\n  if (handlers.onMapCut) {\n    map[method]('pm:cut', (e) => {\n      layerEvents(e.layer, handlers, 'off')\n      layerEvents(e.layer, handlers, 'on')\n      if (handlers.onMapCut) handlers.onMapCut(e)\n    })\n  }\n\n  // Draw\n  if (handlers.onCreate) {\n    map[method]('pm:create', (e) => {\n      layerEvents(e.layer, handlers, 'off')\n      layerEvents(e.layer, handlers, 'on')\n      if (handlers.onCreate) handlers.onCreate(e)\n    })\n  }\n  if (handlers.onDrawStart) {\n    map[method]('pm:drawstart', handlers.onDrawStart)\n  }\n  if (handlers.onDrawEnd) {\n    map[method]('pm:drawend', handlers.onDrawEnd)\n  }\n\n  // Remove\n  if (handlers.onMapRemove) {\n    map[method]('pm:remove', handlers.onMapRemove)\n  }\n\n  // Rotate\n  if (handlers.onMapRotateEnable) {\n    map[method]('pm:rotateenable', handlers.onMapRotateEnable)\n  }\n  if (handlers.onMapRotateDisable) {\n    map[method]('pm:rotatedisable', handlers.onMapRotateDisable)\n  }\n  if (handlers.onMapRotate) {\n    map[method]('pm:rotate', handlers.onMapRotate)\n  }\n  if (handlers.onMapRotateStart) {\n    map[method]('pm:rotatestart', handlers.onMapRotateStart)\n  }\n  if (handlers.onMapRotateEnd) {\n    map[method]('pm:rotateend', handlers.onMapRotateEnd)\n  }\n}\n","import type { GeomanHandlers } from '../types'\n\nexport const reference = [\n  'onMapRemove',\n  'onLayerRemove',\n  'onMapCut',\n  'onLayerCut',\n  'onMapRotateEnable',\n  'onLayerRotateEnable',\n  'onMapRotateDisable',\n  'onLayerRotateDisable',\n  'onMapRotateStart',\n  'onLayerRotateStart',\n  'onMapRotate',\n  'onLayerRotate',\n  'onMapRotateEnd',\n  'onLayerRotateEnd',\n  'onGlobalDrawModeToggled',\n  'onDrawStart',\n  'onDrawEnd',\n  'onCreate',\n  'onGlobalEditModeToggled',\n  'onGlobalDragModeToggled',\n  'onGlobalRemovalModeToggled',\n  'onGlobalCutModeToggled',\n  'onGlobalRotateModeToggled',\n  'onLangChange',\n  'onButtonClick',\n  'onActionClick',\n  'onKeyEvent',\n  'onSnapDrag',\n  'onSnap',\n  'onUnsnap',\n  'onCenterPlaced',\n  'onEdit',\n  'onUpdate',\n  'onEnable',\n  'onDisable',\n  'onVertexAdded',\n  'onVertexRemoved',\n  'onVertexClick',\n  'onMarkerDragStart',\n  'onMarkerDrag',\n  'onMarkerDragEnd',\n  'onLayerReset',\n  'onIntersect',\n  'onChange',\n  'onTextChange',\n  'onDragStart',\n  'onDrag',\n  'onDragEnd',\n  'onDragEnable',\n  'onDragDisable',\n] as (keyof GeomanHandlers)[]\n","import '@geoman-io/leaflet-geoman-free'\nimport { useLayoutEffect, useEffect, useState } from 'react'\n// import { useLeafletContext } from '@react-leaflet/core'\nimport { useLeafletContext } from 'react-leaflet'\nimport type { LayerGroup } from 'leaflet'\n\nimport type { GeomanProps } from './types'\nimport { reference, layerEvents, globalEvents, mapEvents } from './events'\n\nexport default function GeomanControls({\n  options = {},\n  globalOptions = {},\n  pathOptions = {},\n  lang = 'en',\n  eventDebugFn,\n  onMount,\n  onUnmount,\n  ...handlers\n}: GeomanProps): null {\n  const [mounted, setMounted] = useState(false)\n  const [handlersRef, setHandlersRef] = useState<Record<string, Function>>(\n    process.env.NODE_ENV === 'development' ? handlers : {}\n  )\n  const { map, layerContainer } = useLeafletContext()\n  const container = (layerContainer as LayerGroup) || map\n\n  if (!container) {\n    console.warn('[GEOMAN-CONTROLS] No map or container instance found')\n    return null\n  }\n\n  useLayoutEffect(() => {\n    // add controls\n    if (!map.pm.controlsVisible()) {\n      map.pm.addControls(options)\n      if (onMount) onMount()\n      setMounted(true)\n    }\n    return () => {\n      map.pm.disableDraw()\n      map.pm.disableGlobalEditMode()\n      map.pm.disableGlobalRemovalMode()\n      map.pm.disableGlobalDragMode()\n      map.pm.disableGlobalCutMode()\n      map.pm.disableGlobalRotateMode()\n      map.pm.disableGlobalDragMode()\n      map.pm.disableGlobalCutMode()\n      if (onUnmount) onUnmount()\n      map.pm.removeControls()\n      setMounted(false)\n    }\n  }, [])\n\n  useEffect(() => {\n    // set path options\n    if (mounted) map.pm.setPathOptions(pathOptions)\n  }, [pathOptions, mounted])\n\n  useEffect(() => {\n    // set global options\n    if (mounted)\n      map.pm.setGlobalOptions({ layerGroup: container, ...globalOptions })\n  }, [globalOptions, mounted])\n\n  useEffect(() => {\n    // set language\n    if (mounted) map.pm.setLang(lang)\n  }, [lang, mounted])\n\n  useEffect(() => {\n    // attach and remove event handlers\n    if (mounted) {\n      const withDebug = Object.fromEntries(\n        reference.map((handler) => [handler, handlers[handler] ?? eventDebugFn])\n      )\n      const layers = layerContainer\n        ? container.getLayers()\n        : map.pm.getGeomanLayers()\n      layers.forEach((layer) => layerEvents(layer, withDebug, 'on'))\n\n      globalEvents(map, withDebug, 'on')\n      mapEvents(map, withDebug, 'on')\n\n      return () => {\n        globalEvents(map, withDebug, 'off')\n        mapEvents(map, withDebug, 'off')\n        layers.forEach((layer) => layerEvents(layer, withDebug, 'off'))\n        setHandlersRef(handlers)\n      }\n    }\n  }, [\n    mounted,\n    process.env.NODE_ENV === 'development'\n      ? Object.entries(handlers).every(([k, fn]) => handlersRef[k] === fn)\n      : true,\n  ])\n\n  return null\n}\n"],"names":["useState","useLeafletContext","useLayoutEffect","useEffect"],"mappings":"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"}